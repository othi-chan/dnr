# Divide & Rule

**Disclaimer: don't worry my dear friend from IS department, it is just my university project. :)**

# Design Document version 2.0

## Название: Divide&Rule (draft)

## Жанр: cессионная стратегия в реальном времени

## Сеттинг: средневековье

## Общее описание системы

Клиент-серверное приложение.
Все вычисления внутри игровой сессии выполняются на сервере.
Клиенты оповещают сервер о действиях игроков (обычные хттп запросы к рест апи) и отрисовывают изменившееся состояние игры после обработки сервером (сервер оповещает клиенты через сигналир, что они должны вызвать метод апдейт и вытянуть актуальную версию сессии с сервера).

## Описание неигровых возможностей

### Аккаунтом

* Пользователь должен зарегестрироваться в игре. Стандартная пара логин-пароль, логин используется как имя пользователя в игре.
* Пользователь должен зайти в свой аккаунт, для использования приложения. То есть ввести на стартовом экране логин-пароль.
* Пользователь может выйти из своего аккаунта. Ну например чтобы зайти под другим...
* Пользователь может посмотреть информацию о своем аккаунте (редактировать нельзя, неа). Логин, пароль и статистика (количество побед, всего игр).

То есть нам нужен будет экран логина и регистрации и информации об аккаунте. Ну и кнопочка выйти из аккаунта.

### Меню

* Пользователь может создать игровую сессию. Никаких настроек, по умолчанию будет дуэль, карта будет предопределенная в количестве одна штука (естественно, потом их станет больше, ага), название сессии - просто Game{Count}. После создания игрок попадает в лобби, где ждет своего соперника.
* Пользователь может присоединиться к созданной сессии. Он видит список ожидающих сессий (идущие игры в списке не отображаются, лобби из которых вышли все пользователи удаляются), после присоединения он попадает в лобби.

 То есть да, в меню будет список сессий и ровно одна кнопка - создать сессию. Как вариант можно добавить счетчик количества активных игроков, возможно кое что еще, но это потом.

### Лобби

* Оба игрока должны нажать кнопочку о готовности, тогда игра стартует автоматически.
* Можно выйти из лоббию. Если из лобби вышел последний пользователь, то лобби удаляется. После выхода из лобби игрок попадает назад в меню.

Окей, лобби состоит из двух строчек с именами пользователей, двух чекбоксов подтверждения и кнопки выхода из лобби.

### Чат (опционально)

Как вариант, раз уж (если) мы подключим сигналир, то можно очень-очень просто сделать общий чатик, чтобы пользователям было не скучно в меню и лобби (можно и в саму игру, тогда даже в майн лайаут можно прописать его). Но это опционально, просто фишечка если будет желание. Сообщения будут видеть все пользователи, никаких ответов, пересылок, личек, истории... 

## Описание игрового процесса

### Карта

Небольшая карта помещающаяся в экран, не масштабируемая и не прокручиваемая. Никаких препятствий, просто зеленое поле (можно что-нибудь еще там нарисовать, но на геймплей не влияет). На ней есть десяток деревень и один замок.

### Игрового процесс

Игроки спаунятся на 2 случайные деревни (ини имеют минимальный уровень и 0 войск), остальные деревни и замок отдаются ИИ. Деревни ИИ получают случайные улучшения и количество войск, в процессее игры они никак не развиваются и не могут атаковать игрока. Замок получает максимальные улучшения и огромное количество войск. Игроки могут захватывать или уничтожать деревни ии и противника. Замок нельзя уничтожить. Цель игры, набрать как можно больше очков или захватить и удержать в течении минуты замок. Игровая сессия длится максимум 10 минут, если за это время замок не захвачен, то побеждает игрок с наибольшим количеством очков. Очки даются за количество деревень под управлением игрока.

### Деревня

Деревня не имеет никаких строений, только уровень. От уровня деревни зависит ее изображене на карте и прирост войск в минуту. Можно добавить небольшой бонус к защите зависящий от уровня. Уровень деревни можно повышать за победные очки.

### Войска

Никакого видового разнообразия, исключительно абстрактные боевые единицы по кд прибавляющиеся в деревне. Расчет боев еще проще, атакующие - защищающие * коэффициент обороны > 0 = победа. В походе армии не могут столкнуться друг с другом. В случае победы армия становится гарнизоном в захваченной деревне. Отменить поход нельзя. Можно послать войска в свою деревню. Думаю, имеет смысл добавить ползунок для выбора количества войск, посылаемых из деревни.

P.S. Про конкурентов хз, сами ищите, я в такое говно не играл. :)